# This is a docker-compose prod file. It is not meant to "extend"
# docker-compose.yml.
#
# For now, we only have a web container. nginx and the db will still be
# regular linux processes under the main host.

app:
  env_file:
    - ./config/prod_config.env
  build: .
  working_dir: /opt/webolith/djAerolith
  volumes:
    - .:/opt/webolith:rw
    - ./db:/opt/webolith_db:ro
    - /home/ubuntu/webolith_static:/opt/webolith_static:rw
    - /home/ubuntu/blanks:/opt/blanks:rw
  ports:
    - 8088:8000
  command: gunicorn wsgi:application --config gunicorn.py