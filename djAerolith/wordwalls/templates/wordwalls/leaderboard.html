{% extends "base.html" %}
{% load i18n %}
{% block ss %}
    <link href="/static/css/wordwalls/wordwallsCreateTable.css" rel="stylesheet">
    <link href="/static/css/aerolith/bootstrap-datepicker.css" rel="stylesheet">
{% endblock %}
{% block title %}{% trans "Wordwalls - select list" %}{% endblock %}

{% block jquery_js %}{% endblock %}

{% block content %}
<script src="/static/js/aerolith/jquery-1.11.0.min.js"></script>
<script src="/static/lib/bootstrap/js/bootstrap.min.js"></script>
<script src="/static/js/aerolith/Chart.bundle.min.js"></script>
<script src="/static/lib/bootstrap-datepicker.js"></script>

<div class="container"><!-- DIV .CONTAINER -->

    <div class="row"><!-- DIV FOR THE COLUMN -->

        <div class="col-md-6"><!-- COLUMN 1 -->

            <table class="table"><!-- LEADERBOARD TABLE -->
              <thead>
                <tr>
                  <th>Place</th>
                  <th>User</th>
                  <th><img src="/static/img/aerolith/platinum_star_32x32.png"></th>
                  <th><img src="/static/img/aerolith/gold_star_32x32.png"></th>
                  <th><img src="/static/img/aerolith/gold_medal_32x32.png"></th>
                  <th><img src="/static/img/aerolith/silver_medal_32x32.png"></th>
                  <th><img src="/static/img/aerolith/bronze_medal_32x32.png"></th>
                  <th>Total Medals</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row">1</th>
                  <td><span id="0-9"></span></td>
                  <td><span id="1-9"></span></td>
                  <td><span id="2-9"></span></td>
                  <td><span id="3-9"></span></td>
                  <td><span id="4-9"></span></td>
                  <td><span id="5-9"></span></td>
                  <td><span id="6-9"></span></td>
                </tr>
                <tr>
                  <th scope="row">2</th>
                  <td><span id="0-8"></span></td>
                  <td><span id="1-8"></span></td>
                  <td><span id="2-8"></span></td>
                  <td><span id="3-8"></span></td>
                  <td><span id="4-8"></span></td>
                  <td><span id="5-8"></span></td>
                  <td><span id="6-8"></span></td>
                </tr>
                <tr>
                  <th scope="row">3</th>
                  <td><span id="0-7"></span></td>
                  <td><span id="1-7"></span></td>
                  <td><span id="2-7"></span></td>
                  <td><span id="3-7"></span></td>
                  <td><span id="4-7"></span></td>
                  <td><span id="5-7"></span></td>
                  <td><span id="6-7"></span></td>
                </tr>
                <tr>
                  <th scope="row">4</th>
                  <td><span id="0-6"></span></td>
                  <td><span id="1-6"></span></td>
                  <td><span id="2-6"></span></td>
                  <td><span id="3-6"></span></td>
                  <td><span id="4-6"></span></td>
                  <td><span id="5-6"></span></td>
                  <td><span id="6-6"></span></td>
                </tr>
                <tr>
                  <th scope="row">5</th>
                  <td><span id="0-5"></span></td>
                  <td><span id="1-5"></span></td>
                  <td><span id="2-5"></span></td>
                  <td><span id="3-5"></span></td>
                  <td><span id="4-5"></span></td>
                  <td><span id="5-5"></span></td>
                  <td><span id="6-5"></span></td>
                </tr>
                <tr>
                  <th scope="row">6</th>
                  <td><span id="0-4"></span></td>
                  <td><span id="1-4"></span></td>
                  <td><span id="2-4"></span></td>
                  <td><span id="3-4"></span></td>
                  <td><span id="4-4"></span></td>
                  <td><span id="5-4"></span></td>
                  <td><span id="6-4"></span></td>
                </tr>
                <tr>
                  <th scope="row">7</th>
                  <td><span id="0-3"></span></td>
                  <td><span id="1-3"></span></td>
                  <td><span id="2-3"></span></td>
                  <td><span id="3-3"></span></td>
                  <td><span id="4-3"></span></td>
                  <td><span id="5-3"></span></td>
                  <td><span id="6-3"></span></td>
                </tr>
                <tr>
                  <th scope="row">8</th>
                  <td><span id="0-2"></span></td>
                  <td><span id="1-2"></span></td>
                  <td><span id="2-2"></span></td>
                  <td><span id="3-2"></span></td>
                  <td><span id="4-2"></span></td>
                  <td><span id="5-2"></span></td>
                  <td><span id="6-2"></span></td>
                </tr>
                <tr>
                  <th scope="row">9</th>
                  <td><span id="0-1"></span></td>
                  <td><span id="1-1"></span></td>
                  <td><span id="2-1"></span></td>
                  <td><span id="3-1"></span></td>
                  <td><span id="4-1"></span></td>
                  <td><span id="5-1"></span></td>
                  <td><span id="6-1"></span></td>
                </tr>
                <tr>
                  <th scope="row">10</th>
                  <td><span id="0-0"></span></td>
                  <td><span id="1-0"></span></td>
                  <td><span id="2-0"></span></td>
                  <td><span id="3-0"></span></td>
                  <td><span id="4-0"></span></td>
                  <td><span id="5-0"></span></td>
                  <td><span id="6-0"></span></td>
                </tr>
              </tbody>
            </table><!-- /LEADERBOARD TABLE -->

        </div><!-- /COLUMN 1 -->

        <div class="col-md-1"><!-- MIDDLE SPACER COLUMN -->


        </div><!-- /MIDDLE SPACER COLUMN -->

        <div class="col-md-5"><!-- COLUMN 2 -->

            <table class="table">
              <thead>
                <tr>
                  <th>Medal</th>
                  <th>Description</th>
                </tr>
              </thead>
              <tbody>
                <tr>
                  <th scope="row"><img src="/static/img/aerolith/platinum_star_32x32.png"></th>
                  <td>Given to first place in the Week's Bingo Toughies</td>
                </tr>
                <tr>
                  <th scope="row"><img src="/static/img/aerolith/gold_star_32x32.png"></th>
                  <td>Given to first place in the Blank Bingos and Bingo Marathon</td>
                </tr>
                <tr>
                  <th scope="row"><img src="/static/img/aerolith/gold_medal_32x32.png"></th>
                  <td>Given to first place in every other challenge, and second in the three "special" challenges</td>
                </tr>
                <tr>
                  <th scope="row"><img src="/static/img/aerolith/silver_medal_32x32.png"></th>
                  <td>Given to second place in every other challenge, and third in the three "special" challenges</td>
                </tr>
                <tr>
                  <th scope="row"><img src="/static/img/aerolith/bronze_medal_32x32.png"></th>
                  <td>Given to third place in every other challenge, and fourth in the three "special" challenges</td>
                </tr>
              </tbody>
            </table>

        </div><!-- /COLUMN 2 -->

</div><!-- /DIV .CONTAINER -->

<!-- RING SPINNER -->
<img src="/static/img/aerolith/blue_spinner.gif" style="display: none; position: fixed; left: 600px; top: 100px;" class="ring-spinner">

<script type="text/javascript">

$(document).ready(function() {

    // Show ring spinner while info is loading
    $(".ring-spinner").show();


    $.ajax({
        method: "GET",
        url: "/wordwalls/leaderboard/getboard/",
        dataType: 'json'

    })

    .done(function(msg) {

        $(".ring-spinner").hide();

        // List of entries in order of how information appears on the front end
        var entriesSorted = [];

        // Parse JSON in correct order
        for (var i = 0; i < msg.length; i++) {

            var entry = [];

            var value = msg[i];

            entry.push(value.name);
            entry.push(value.Platinum);
            entry.push(value.GoldStar);
            entry.push(value.Gold);
            entry.push(value.Silver);
            entry.push(value.Bronze);
            entry.push(value.total);

            entriesSorted.push(entry);

        }

        // Call the info function for each row in the leaderboard
        for (var i = 0; i < Math.min(entriesSorted.length, 10); i++) {

            goThroughEntries(entriesSorted, i)

        }

        // Get info from the list of users to display in an individual row
        function goThroughEntries (array, row) {

            for (var i = 0; i < 7; i++) {

                var row = row;
                var rowEntry = entriesSorted[row][i];
                var iStringified = i.toString();
                var rowString = row.toString();

                var frontEndID = $('#' + iStringified + '-' + rowString)

                frontEndID.html(rowEntry);
            }

        }


    })
});

</script>


{% endblock %}